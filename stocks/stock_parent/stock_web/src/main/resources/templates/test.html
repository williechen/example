<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Insert title here</title>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"
	integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
	crossorigin="anonymous"></script>
<script src="/script/dateFormat.js"></script>
<script src="/script/validation.js"></script>
<script src="/script/addItem.js"></script>
</head>
<body>

<div>
  <input id="dateStr" name="dateStr" />
  <input id="format" name="format"/>
  <input id="format2" name="format2"/>
  <input type="button" id="btn_format" name="btn_format"/>
  <span id="df"></span>
  <div id="df1"></div>
  <div id="df2"></div>
  <div id="df3">
    <select id="testSelect" name="testSelect"></select>
  </div>
</div>

<script>
  var df = new DateFormat();
  var valid = new Validation();
  valid.initObj();
  
  var addItem = new AddItem();

  addItem.InputRadioItem('df1', 'df1_radio', {}, false, ["2"]);
  addItem.InputCheckboxItem('df2', 'df2_checkbox', {}, false, ["1", "3"]);
  addItem.selectItem('testSelect', {}, ["1"]);

  $("#btn_format").on("click", function(){
	  var valid1 = new Validation();
	  valid1.restValid();
	  
	  valid1.require("dateStr", "日期");
	  valid1.checkWestDate("dateStr", "日期", "yyyy/MMdd");
	  
	  valid1.require("format", "解析格式");
	  valid1.checkMinLength("format", "解析格式", 5);
	  
	  valid1.require("format2", "日期格式");
	  
	  if (valid1.status()){
		  valid1.showMessage();
		  return;
	  }
	  
	  let dateStr = $("#dateStr").val();
	  let format = $("#format").val();
	  let format2 = $("#format2").val();

	  $("#df").text(df.toWestToTwDate(dateStr, format, format2, true));
  });
 
</script>

</body>
</html>